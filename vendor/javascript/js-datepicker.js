var e=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var t={};!function(e,a){t=a()}(window,(function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(t,a,r){r.r(a);var i=[],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],T={t:"top",r:"right",b:"bottom",l:"left",c:"centered"};function s(){}var V=["click","focusin","keydown","input"];function d(e){V.forEach((function(t){e.addEventListener(t,e===document?L:Y)}))}function c(e){return Array.isArray(e)?e.map(c):"[object Object]"===x(e)?Object.keys(e).reduce((function(t,a){return t[a]=c(e[a]),t}),{}):e}function u(e,t){var a=e.calendar.querySelector(".qs-overlay"),r=a&&!a.classList.contains("qs-hidden");t=t||new Date(e.currentYear,e.currentMonth),e.calendar.innerHTML=[h(t,e,r),f(t,e,r),v(e,r)].join(""),r&&window.requestAnimationFrame((function(){M(!0,e)}))}function h(e,t,a){return['<div class="qs-controls'+(a?" qs-blur":"")+'">','<div class="qs-arrow qs-left"></div>','<div class="qs-month-year'+(t.disableYearOverlay?" qs-disabled-year-overlay":"")+'">','<span class="qs-month">'+t.months[e.getMonth()]+"</span>",'<span class="qs-year">'+e.getFullYear()+"</span>","</div>",'<div class="qs-arrow qs-right"></div>',"</div>"].join("")}function f(e,t,a){var r=t.currentMonth,i=t.currentYear,o=t.dateSelected,l=t.maxDate,T=t.minDate,V=t.showAllDates,H=t.days,J=t.disabledDates,W=t.startDay,U=t.weekendIndices,z=t.events,G=t.getRange?t.getRange():{},K=+G.start,Q=+G.end,X=g(new Date(e).setDate(1)),Z=X.getDay()-W,$=Z<0?7:0;X.setMonth(X.getMonth()+1),X.setDate(0);var ee=X.getDate(),te=[],ne=$+7*((Z+ee)/7|0);ne+=(Z+ee)%7?7:0;for(var ae=1;ae<=ne;ae++){var re=(ae-1)%7,ie=H[re],oe=ae-(Z>=0?Z:7+Z),se=new Date(i,r,oe),le=z[+se],de=oe<1||oe>ee,ce=de?oe<1?-1:1:0,ue=de&&!V,he=ue?"":se.getDate(),fe=+se==+o,ve=re===U[0]||re===U[1],me=K!==Q,ye="qs-square "+ie;le&&!ue&&(ye+=" qs-event"),de&&(ye+=" qs-outside-current-month"),!V&&de||(ye+=" qs-num"),fe&&(ye+=" qs-active"),(J[+se]||t.disabler(se)||ve&&t.noWeekends||T&&+se<+T||l&&+se>+l)&&!ue&&(ye+=" qs-disabled"),+g(new Date)==+se&&(ye+=" qs-current"),+se===K&&Q&&me&&(ye+=" qs-range-start"),+se>K&&+se<Q&&(ye+=" qs-range-middle"),+se===Q&&K&&me&&(ye+=" qs-range-end"),ue&&(ye+=" qs-empty",he=""),te.push('<div class="'+ye+'" data-direction="'+ce+'">'+he+"</div>")}var pe=H.map((function(e){return'<div class="qs-square qs-day">'+e+"</div>"})).concat(te);return pe.unshift('<div class="qs-squares'+(a?" qs-blur":"")+'">'),pe.push("</div>"),pe.join("")}function v(e,t){var a=e.overlayPlaceholder,r=e.overlayButton;return['<div class="qs-overlay'+(t?"":" qs-hidden")+'">',"<div>",'<input class="qs-overlay-year" placeholder="'+a+'" inputmode="numeric" />','<div class="qs-close">&#10005;</div>',"</div>",'<div class="qs-overlay-month-container">'+e.overlayMonths.map((function(e,t){return'<div class="qs-overlay-month" data-month-num="'+t+'">'+e+"</div>"})).join("")+"</div>",'<div class="qs-submit qs-disabled">'+r+"</div>","</div>"].join("")}function m(e,t,a){var r=t.el,i=t.calendar.querySelector(".qs-active"),o=e.textContent,l=t.sibling;(r.disabled||r.readOnly)&&t.respectDisabledReadOnly||(t.dateSelected=a?void 0:new Date(t.currentYear,t.currentMonth,o),i&&i.classList.remove("qs-active"),a||e.classList.add("qs-active"),p(r,t,a),a||q(t),l&&(y({instance:t,deselect:a}),t.first&&!l.dateSelected&&(l.currentYear=t.currentYear,l.currentMonth=t.currentMonth,l.currentMonthName=t.currentMonthName),u(t),u(l)),t.onSelect(t,a?void 0:new Date(t.dateSelected)))}function y(e){var t=e.instance.first?e.instance:e.instance.sibling,a=t.sibling;t===e.instance?e.deselect?(t.minDate=t.originalMinDate,a.minDate=a.originalMinDate):a.minDate=t.dateSelected:e.deselect?(a.maxDate=a.originalMaxDate,t.maxDate=t.originalMaxDate):t.maxDate=a.dateSelected}function p(e,t,a){if(!t.nonInput)return a?e.value="":t.formatter!==s?t.formatter(e,t.dateSelected,t):void(e.value=t.dateSelected.toDateString())}function w(e,t,a,r){a||r?(a&&(t.currentYear=+a),r&&(t.currentMonth=+r)):(t.currentMonth+=e.contains("qs-right")?1:-1,12===t.currentMonth?(t.currentMonth=0,t.currentYear++):-1===t.currentMonth&&(t.currentMonth=11,t.currentYear--)),t.currentMonthName=t.months[t.currentMonth],u(t),t.onMonthChange(t)}function D(e){if(!e.noPosition){var t=e.position.top,a=e.position.right;if(e.position.centered)return e.calendarContainer.classList.add("qs-centered");var r=e.positionedEl.getBoundingClientRect(),i=e.el.getBoundingClientRect(),o=e.calendarContainer.getBoundingClientRect(),l=i.top-r.top+(t?-1*o.height:i.height)+"px",T=i.left-r.left+(a?i.width-o.width:0)+"px";e.calendarContainer.style.setProperty("top",l),e.calendarContainer.style.setProperty("left",T)}}function b(e){return"[object Date]"===x(e)&&"Invalid Date"!==e.toString()}function g(e){if(b(e)||"number"==typeof e&&!isNaN(e)){var t=new Date(+e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}}function q(e){e.disabled||!e.calendarContainer.classList.contains("qs-hidden")&&!e.alwaysShow&&("overlay"!==e.defaultView&&M(!0,e),e.calendarContainer.classList.add("qs-hidden"),e.onHide(e))}function S(e){e.disabled||(e.calendarContainer.classList.remove("qs-hidden"),"overlay"===e.defaultView&&M(!1,e),D(e),e.onShow(e))}function M(e,t){var a=t.calendar,r=a.querySelector(".qs-overlay"),i=r.querySelector(".qs-overlay-year"),o=a.querySelector(".qs-controls"),l=a.querySelector(".qs-squares");e?(r.classList.add("qs-hidden"),o.classList.remove("qs-blur"),l.classList.remove("qs-blur"),i.value=""):(r.classList.remove("qs-hidden"),o.classList.add("qs-blur"),l.classList.add("qs-blur"),i.focus())}function E(e,t,a,r){var i=isNaN(+(new Date).setFullYear(t.value||void 0)),o=i?null:t.value;13===e.which||13===e.keyCode||"click"===e.type?r?w(null,a,o,r):i||t.classList.contains("qs-disabled")||w(null,a,o):a.calendar.contains(t)&&a.calendar.querySelector(".qs-submit").classList[i?"add":"remove"]("qs-disabled")}function x(e){return{}.toString.call(e)}function C(e){i.forEach((function(t){t!==e&&q(t)}))}function L(e){if(!e.__qs_shadow_dom){var t=e.which||e.keyCode,a=e.type,r=e.target,o=r.classList,T=i.filter((function(e){return e.calendar.contains(r)||e.el===r}))[0],V=T&&T.calendar.contains(r);if(!(T&&T.isMobile&&T.disableMobile))if("click"===a){if(!T)return i.forEach(q);if(T.disabled)return;var H=T.calendar,J=T.calendarContainer,W=T.disableYearOverlay,U=T.nonInput,z=H.querySelector(".qs-overlay-year"),G=!!H.querySelector(".qs-hidden"),K=H.querySelector(".qs-month-year").contains(r),Q=r.dataset.monthNum;if(T.noPosition&&!V)(J.classList.contains("qs-hidden")?S:q)(T);else if(o.contains("qs-arrow"))w(o,T);else if(K||o.contains("qs-close"))W||M(!G,T);else if(Q)E(e,z,T,Q);else{if(o.contains("qs-disabled"))return;if(o.contains("qs-num")){var X=r.textContent,Z=+r.dataset.direction,$=new Date(T.currentYear,T.currentMonth+Z,X);if(Z){T.currentYear=$.getFullYear(),T.currentMonth=$.getMonth(),T.currentMonthName=l[T.currentMonth],u(T);for(var ee,te=T.calendar.querySelectorAll('[data-direction="0"]'),ne=0;!ee;){var ae=te[ne];ae.textContent===X&&(ee=ae),ne++}r=ee}return void(+$==+T.dateSelected?m(r,T,!0):r.classList.contains("qs-disabled")||m(r,T))}o.contains("qs-submit")?E(e,z,T):U&&r===T.el&&(S(T),C(T))}}else if("focusin"===a&&T)S(T),C(T);else if("keydown"===a&&9===t&&T)q(T);else if("keydown"===a&&T&&!T.disabled){var re=!T.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===t&&re&&V?E(e,r,T):27===t&&re&&V&&M(!0,T)}else if("input"===a){if(!T||!T.calendar.contains(r))return;var ie=T.calendar.querySelector(".qs-submit"),oe=r.value.split("").reduce((function(e,t){return e||"0"!==t?e+(t.match(/[0-9]/)?t:""):""}),"").slice(0,4);r.value=oe,ie.classList[4===oe.length?"remove":"add"]("qs-disabled")}}}function Y(e){L(e),e.__qs_shadow_dom=!0}function j(e,t){V.forEach((function(a){e.removeEventListener(a,t)}))}function O(){S(this||e)}function P(){q(this||e)}function k(t,a){var r=g(t),i=(this||e).currentYear,o=(this||e).currentMonth,l=(this||e).sibling;if(null==t)return(this||e).dateSelected=void 0,p((this||e).el,this||e,!0),l&&(y({instance:this||e,deselect:!0}),u(l)),u(this||e),this||e;if(!b(t))throw new Error("`setDate` needs a JavaScript Date object.");if((this||e).disabledDates[+r]||r<(this||e).minDate||r>(this||e).maxDate)throw new Error("You can't manually set a date that's disabled.");(this||e).dateSelected=r,a&&((this||e).currentYear=r.getFullYear(),(this||e).currentMonth=r.getMonth(),(this||e).currentMonthName=(this||e).months[r.getMonth()]),p((this||e).el,this||e),l&&(y({instance:this||e}),u(l));var T=i===r.getFullYear()&&o===r.getMonth();return T||a?u(this||e,r):T||u(this||e,new Date(i,o,1)),this||e}function N(t){return I(this||e,t,!0)}function _(t){return I(this||e,t)}function I(e,t,a){var r=e.dateSelected,i=e.first,o=e.sibling,l=e.minDate,T=e.maxDate,V=g(t),H=a?"Min":"Max";function c(){return"original"+H+"Date"}function h(){return H.toLowerCase()+"Date"}function f(){return"set"+H}function v(){throw new Error("Out-of-range date passed to "+f())}if(null==t)e[c()]=void 0,o?(o[c()]=void 0,a?(i&&!r||!i&&!o.dateSelected)&&(e.minDate=void 0,o.minDate=void 0):(i&&!o.dateSelected||!i&&!r)&&(e.maxDate=void 0,o.maxDate=void 0)):e[h()]=void 0;else{if(!b(t))throw new Error("Invalid date passed to "+f());o?((i&&a&&V>(r||T)||i&&!a&&V<(o.dateSelected||l)||!i&&a&&V>(o.dateSelected||T)||!i&&!a&&V<(r||l))&&v(),e[c()]=V,o[c()]=V,(a&&(i&&!r||!i&&!o.dateSelected)||!a&&(i&&!o.dateSelected||!i&&!r))&&(e[h()]=V,o[h()]=V)):((a&&V>(r||T)||!a&&V<(r||l))&&v(),e[h()]=V)}return o&&u(o),u(e),e}function A(){var t=(this||e).first?this||e:(this||e).sibling,a=t.sibling;return{start:t.dateSelected,end:a.dateSelected}}function R(){var t=(this||e).shadowDom,a=(this||e).positionedEl,r=(this||e).calendarContainer,o=(this||e).sibling,l=this||e;(this||e).inlinePosition&&(i.some((function(e){return e!==l&&e.positionedEl===a}))||a.style.setProperty("position",null));r.remove(),i=i.filter((function(e){return e!==l})),o&&delete o.sibling,i.length||j(document,L);var T=i.some((function(e){return e.shadowDom===t}));for(var H in t&&!T&&j(t,Y),this||e)delete(this||e)[H];i.length||V.forEach((function(e){document.removeEventListener(e,L)}))}function F(t,a){var r=new Date(t);if(!b(r))throw new Error("Invalid date passed to `navigate`");(this||e).currentYear=r.getFullYear(),(this||e).currentMonth=r.getMonth(),u(this||e),a&&this.onMonthChange(this||e)}function B(){var t=!(this||e).calendarContainer.classList.contains("qs-hidden"),a=!(this||e).calendarContainer.querySelector(".qs-overlay").classList.contains("qs-hidden");t&&M(a,this||e)}a.default=function(e,t){var a=function(e,t){var a,r,V=function(e){var t=c(e);t.events&&(t.events=t.events.reduce((function(e,t){if(!b(t))throw new Error('"options.events" must only contain valid JavaScript Date objects.');return e[+g(t)]=!0,e}),{}));["startDate","dateSelected","minDate","maxDate"].forEach((function(e){var a=t[e];if(a&&!b(a))throw new Error('"options.'+e+'" needs to be a valid JavaScript Date object.');t[e]=g(a)}));var a=t.position,r=t.maxDate,l=t.minDate,V=t.dateSelected,H=t.overlayPlaceholder,J=t.overlayButton,W=t.startDay,U=t.id;if(t.startDate=g(t.startDate||V||new Date),t.disabledDates=(t.disabledDates||[]).reduce((function(e,t){var a=+g(t);if(!b(t))throw new Error('You supplied an invalid date to "options.disabledDates".');if(a===+g(V))throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');return e[a]=1,e}),{}),t.hasOwnProperty("id")&&null==U)throw new Error("`id` cannot be `null` or `undefined`");if(null!=U){var z=i.filter((function(e){return e.id===U}));if(z.length>1)throw new Error("Only two datepickers can share an id.");z.length?(t.second=!0,t.sibling=z[0]):t.first=!0}var G=["tr","tl","br","bl","c"].some((function(e){return a===e}));if(a&&!G)throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');function p(e){throw new Error('"dateSelected" in options is '+(e?"less":"greater")+' than "'+(e||"max")+'Date".')}if(t.position=function(e){var t=e[0],a=e[1],r={};r[T[t]]=1,a&&(r[T[a]]=1);return r}(a||"bl"),r<l)throw new Error('"maxDate" in options is less than "minDate".');V&&(l>V&&p("min"),r<V&&p());if(["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach((function(e){"function"!=typeof t[e]&&(t[e]=s)})),["customDays","customMonths","customOverlayMonths"].forEach((function(e,a){var r=t[e],i=a?12:7;if(r){if(!Array.isArray(r)||r.length!==i||r.some((function(e){return"string"!=typeof e})))throw new Error('"'+e+'" must be an array with '+i+" strings.");t[a?a<2?"months":"overlayMonths":"days"]=r}})),W&&W>0&&W<7){var K=(t.customDays||o).slice(),Q=K.splice(0,W);t.customDays=K.concat(Q),t.startDay=+W,t.weekendIndices=[K.length-1,K.length]}else t.startDay=0,t.weekendIndices=[6,0];"string"!=typeof H&&delete t.overlayPlaceholder;"string"!=typeof J&&delete t.overlayButton;var X=t.defaultView;if(X&&"calendar"!==X&&"overlay"!==X)throw new Error('options.defaultView must either be "calendar" or "overlay".');return t.defaultView=X||"calendar",t}(t||{startDate:g(new Date),position:"bl",defaultView:"calendar"}),H=e;if("string"==typeof H)H="#"===H[0]?document.getElementById(H.slice(1)):document.querySelector(H);else{if("[object ShadowRoot]"===x(H))throw new Error("Using a shadow DOM as your selector is not supported.");for(var J,W=H.parentNode;!J;){var U=x(W);"[object HTMLDocument]"===U?J=!0:"[object ShadowRoot]"===U?(J=!0,a=W,r=W.host):W=W.parentNode}}if(!H)throw new Error("No selector / element found.");if(i.some((function(e){return e.el===H})))throw new Error("A datepicker already exists on that element.");var z=H===document.body,G=a?H.parentElement||a:z?document.body:H.parentElement,K=a?H.parentElement||r:G,Q=document.createElement("div"),X=document.createElement("div");Q.className="qs-datepicker-container qs-hidden",X.className="qs-datepicker";var Z={shadowDom:a,customElement:r,positionedEl:K,el:H,parent:G,nonInput:"INPUT"!==H.nodeName,noPosition:z,position:!z&&V.position,startDate:V.startDate,dateSelected:V.dateSelected,disabledDates:V.disabledDates,minDate:V.minDate,maxDate:V.maxDate,noWeekends:!!V.noWeekends,weekendIndices:V.weekendIndices,calendarContainer:Q,calendar:X,currentMonth:(V.startDate||V.dateSelected).getMonth(),currentMonthName:(V.months||l)[(V.startDate||V.dateSelected).getMonth()],currentYear:(V.startDate||V.dateSelected).getFullYear(),events:V.events||{},defaultView:V.defaultView,setDate:k,remove:R,setMin:N,setMax:_,show:O,hide:P,navigate:F,toggleOverlay:B,onSelect:V.onSelect,onShow:V.onShow,onHide:V.onHide,onMonthChange:V.onMonthChange,formatter:V.formatter,disabler:V.disabler,months:V.months||l,days:V.customDays||o,startDay:V.startDay,overlayMonths:V.overlayMonths||(V.months||l).map((function(e){return e.slice(0,3)})),overlayPlaceholder:V.overlayPlaceholder||"4-digit year",overlayButton:V.overlayButton||"Submit",disableYearOverlay:!!V.disableYearOverlay,disableMobile:!!V.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!V.alwaysShow,id:V.id,showAllDates:!!V.showAllDates,respectDisabledReadOnly:!!V.respectDisabledReadOnly,first:V.first,second:V.second};if(V.sibling){var $=V.sibling,ee=Z,te=$.minDate||ee.minDate,ne=$.maxDate||ee.maxDate;ee.sibling=$,$.sibling=ee,$.minDate=te,$.maxDate=ne,ee.minDate=te,ee.maxDate=ne,$.originalMinDate=te,$.originalMaxDate=ne,ee.originalMinDate=te,ee.originalMaxDate=ne,$.getRange=A,ee.getRange=A}V.dateSelected&&p(H,Z);var ae=getComputedStyle(K).position;z||ae&&"static"!==ae||(Z.inlinePosition=!0,K.style.setProperty("position","relative"));var re=i.filter((function(e){return e.positionedEl===Z.positionedEl}));re.some((function(e){return e.inlinePosition}))&&(Z.inlinePosition=!0,re.forEach((function(e){e.inlinePosition=!0})));Q.appendChild(X),G.appendChild(Q),Z.alwaysShow&&S(Z);return Z}(e,t);if(i.length||d(document),a.shadowDom&&(i.some((function(e){return e.shadowDom===a.shadowDom}))||d(a.shadowDom)),i.push(a),a.second){var r=a.sibling;y({instance:a,deselect:!a.dateSelected}),y({instance:r,deselect:!r.dateSelected}),u(r)}return u(a,a.startDate||a.dateSelected),a.alwaysShow&&D(a),a}}]).default}));var a=t;const r=t.datepicker;export{r as datepicker,a as default};

